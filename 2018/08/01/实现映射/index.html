<!doctype html>
<html lang="en">
    <head>
		
        <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <link rel="shortcut icon" href="/asset/star.png"/>
        <link rel="canonical" href="http://guolinn.com/">
        <link rel="alternate" type="application/rss+xml" title="Homxu" href="/atom.xml">
        <title>实现映射 | Homxu</title>
        <meta name="description" content="{{meta_description}}">

        <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/styles/crisp.css">
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    </head>
    
		<body class="post-template">
	

        <header id="header">
            <a id="logo" href="/"><img src="/asset/star.png" alt="Homxu" /></a>
            <h1><a href="/">Homxu</a></h1>
            <p>程序员也要好好生活</p>
            <div id="follow-icons">
          <a href="http://github.com/homxuwang"><i class="fa fa-github-square fa-2x"></i></a>
              <a href="/atom.xml"><i class="fa fa-rss-square fa-2x"></i></a>
  </div>
<h6><a href="/about">About</a></h6>
        </header>

        <main id="content">
        

<article class="post">
  August 1, 2018
  
    <span class="taglist">  &middot; 
    
    
      <a href='/tags/数据结构/'>数据结构</a> 
    
    </span>
  

  <h1 class="post-title">实现映射</h1>
  <section class="post-content article-entry">
    <p>映射也就是Map,这里是指一对一的映射。也成为<code>字典</code>。</p>
<ul>
<li>映射迎来存储键值数据对(Key,Value)</li>
<li>根据Key寻找对应的Value</li>
<li>用链表或者二分搜索树实现比较简单</li>
</ul>
<p>BST的结构:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</div><div class="line">  K key;</div><div class="line">  V value;</div><div class="line">  Node left;</div><div class="line">  Node right;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>链表的结构:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</div><div class="line">  K key;</div><div class="line">  V value;</div><div class="line">  Node next;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>即本来存储一个数据的节点现在存储两个(Key,Value).</p>
<p>定义Map接口:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(K key,V value)</span></span>;</div><div class="line">    <span class="function">V <span class="title">remove</span><span class="params">(K key)</span></span>;            <span class="comment">//删除key对应的键值对,并返回值</span></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(K key)</span></span>;  <span class="comment">//是否存已在key</span></div><div class="line">    <span class="function">V <span class="title">get</span><span class="params">(K key)</span></span>;               <span class="comment">//获得key对应的value值</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(K key,V newValue)</span></span>; <span class="comment">//更新值</span></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getSize</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="基于链表实现Map"><a href="#基于链表实现Map" class="headerlink" title="基于链表实现Map"></a>基于链表实现Map</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</div><div class="line">    <span class="comment">//定义节点</span></div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</div><div class="line">        <span class="keyword">public</span> K key;</div><div class="line">        <span class="keyword">public</span> V value;</div><div class="line">        <span class="keyword">public</span> Node next;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(K key,V value,Node node)</span></span>&#123;</div><div class="line">            <span class="keyword">this</span>.key = key;</div><div class="line">            <span class="keyword">this</span>.value = value;</div><div class="line">            <span class="keyword">this</span>.next = <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(K key)</span></span>&#123;</div><div class="line">            <span class="keyword">this</span>(key,<span class="keyword">null</span>,<span class="keyword">null</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span></span>&#123;</div><div class="line">            <span class="keyword">this</span>(<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</div><div class="line">            <span class="keyword">return</span> key.toString() + <span class="string">":"</span> + value.toString();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Node dummyHead;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedListMap</span><span class="params">()</span></span>&#123;</div><div class="line">        dummyHead = <span class="keyword">new</span> Node();</div><div class="line">        size = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(K key, V value)</span> </span>&#123;</div><div class="line">        Node node = getNode(key);</div><div class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>)&#123;</div><div class="line">            dummyHead.next = <span class="keyword">new</span> Node(key,value,dummyHead.next);</div><div class="line">            size ++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="comment">//如果已经存在,则进行值的覆盖</span></div><div class="line">            node.value = value;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">remove</span><span class="params">(K key)</span> </span>&#123;</div><div class="line">        Node prev = dummyHead;</div><div class="line">        <span class="keyword">while</span>(prev.next != <span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(prev.next.key.equals(key))</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            prev = prev.next;</div><div class="line">        &#125;</div><div class="line">        Node delNode;</div><div class="line">        <span class="keyword">if</span>(prev.next != <span class="keyword">null</span>)&#123;</div><div class="line">            delNode = prev.next;</div><div class="line">            prev.next = delNode.next;</div><div class="line">            delNode.next = <span class="keyword">null</span>;</div><div class="line">            <span class="keyword">return</span> delNode.value;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(K key)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> getNode(key) != <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(K key)</span> </span>&#123;</div><div class="line">        Node result = getNode(key);</div><div class="line">        <span class="keyword">return</span> result == <span class="keyword">null</span> ? <span class="keyword">null</span> : result.value;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(K key, V newValue)</span> </span>&#123;</div><div class="line">        Node result = getNode(key);</div><div class="line">        <span class="keyword">if</span>(result != <span class="keyword">null</span>)</div><div class="line">            result.value = newValue;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(key + <span class="string">"doesn't exists"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSize</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> size;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> size == <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">getNode</span><span class="params">(K k)</span></span>&#123;</div><div class="line">        Node cur = dummyHead.next;</div><div class="line">        <span class="keyword">while</span>(cur != <span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(cur.key.equals(k))</div><div class="line">                <span class="keyword">return</span> cur;</div><div class="line">            cur = cur.next;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="基于二分搜索树实现Map"><a href="#基于二分搜索树实现Map" class="headerlink" title="基于二分搜索树实现Map"></a>基于二分搜索树实现Map</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BSTMap</span>&lt;<span class="title">K</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">K</span>&gt;,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</div><div class="line">        <span class="keyword">public</span> K key;</div><div class="line">        <span class="keyword">public</span> V value;</div><div class="line">        <span class="keyword">public</span> Node left,right;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(K key,V value)</span></span>&#123;</div><div class="line">            <span class="keyword">this</span>.key = key;</div><div class="line">            <span class="keyword">this</span>.value = value;</div><div class="line">            <span class="keyword">this</span>.left = <span class="keyword">null</span>;</div><div class="line">            <span class="keyword">this</span>.right = <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> Node root;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="comment">//向二分搜索树中添加新元素(key,value)</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(K key, V value)</span> </span>&#123;</div><div class="line">        root = add(root,key,value);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="comment">//借助辅助函数remove(Node node,K key)</span></div><div class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">remove</span><span class="params">(K key)</span> </span>&#123;</div><div class="line">        Node node = getNode(root,key);</div><div class="line">        <span class="keyword">if</span>(node != <span class="keyword">null</span>)&#123;</div><div class="line">            root = remove(root,key);</div><div class="line">            <span class="keyword">return</span> node.value;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(K key)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> getNode(root,key) != <span class="keyword">null</span> ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(K key)</span> </span>&#123;</div><div class="line">        Node node = getNode(root,key);</div><div class="line">        <span class="keyword">return</span> node == <span class="keyword">null</span> ? <span class="keyword">null</span> : node.value;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(K key, V newValue)</span> </span>&#123;</div><div class="line">        Node node = getNode(root,key);</div><div class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>)</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(key + <span class="string">"doesn't exist!"</span>);</div><div class="line">        node.value = newValue;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSize</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> size;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> size == <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//向以node为根的二分搜索树中插入元素,采用递归算法</span></div><div class="line">    <span class="comment">//返回插入新节点后二分搜索树的根</span></div><div class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">add</span><span class="params">(Node node,K key,V value)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>)&#123;</div><div class="line">            size ++;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Node(key,value);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(key.compareTo(node.key) &lt; <span class="number">0</span>)&#123;</div><div class="line">            node.left = add(node.left,key,value);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(key.compareTo(node.key) &gt; <span class="number">0</span>)&#123;</div><div class="line">            node.right = add(node.right,key,value);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="comment">//key.compareTo(node.key)==0</span></div><div class="line">            node.value = value;</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//返回以node为根节点的二分搜索树中,key所在的节点</span></div><div class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">getNode</span><span class="params">(Node node,K key)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(key.compareTo(node.key) == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(key.compareTo(node.key) &lt; <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> getNode(node.left,key);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123; <span class="comment">//key.compareTo(node.key) &gt; 0)</span></div><div class="line">            <span class="keyword">return</span> getNode(node.right,key);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//删除掉以node为根的二分搜索树中键为key的节点</span></div><div class="line">    <span class="comment">//返回删除节点后新的二分搜索树的根</span></div><div class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">remove</span><span class="params">(Node node,K key)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">if</span>(key.compareTo(node.key) &lt; <span class="number">0</span>)&#123;</div><div class="line">            node.left = remove(node.left,key);</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(key.compareTo(node.key) &gt; <span class="number">0</span> )&#123;</div><div class="line">            node.right = remove(node.right,key);</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;<span class="comment">//key.compareTo(node.key) == 0</span></div><div class="line">            <span class="comment">//待删除左子树为空</span></div><div class="line">            <span class="keyword">if</span>(node.left == <span class="keyword">null</span>)&#123;</div><div class="line">                Node rightNode = node.right;</div><div class="line">                node.right = <span class="keyword">null</span>;</div><div class="line">                size --;</div><div class="line">                <span class="keyword">return</span> rightNode;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//待删除右子树为空</span></div><div class="line">            <span class="keyword">if</span>(node.right == <span class="keyword">null</span>)&#123;</div><div class="line">                Node leftNode = node.left;</div><div class="line">                node.left = <span class="keyword">null</span>;</div><div class="line">                size --;</div><div class="line">                <span class="keyword">return</span> leftNode;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//待删除左右子树均不为空</span></div><div class="line">            <span class="comment">//先找到比待删除节点大的最小节点,即待删除节点右子树的最小节点</span></div><div class="line">            <span class="comment">//用这个节点顶替待删除节点的位置</span></div><div class="line">            Node successor = minmum(node.right);</div><div class="line">            successor.right = removeMin(node.right);</div><div class="line">            successor.left = node.left;</div><div class="line"></div><div class="line">            node.left = node.right = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">            <span class="keyword">return</span> successor;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//返回以node为根的二分搜索树的最小值所在的节点</span></div><div class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">minmum</span><span class="params">(Node node)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(node.left == <span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> minmum(node.left);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//删除掉以node为根的二分搜索树中的最小节点</span></div><div class="line">    <span class="comment">//返回删除节点后的最新的二分搜索树的根</span></div><div class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">removeMin</span><span class="params">(Node node)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(node.left == <span class="keyword">null</span>)&#123;</div><div class="line">            Node rightNode = node.right;</div><div class="line">            node.right = <span class="keyword">null</span>;</div><div class="line">            size --;</div><div class="line">            <span class="keyword">return</span> rightNode;</div><div class="line">        &#125;</div><div class="line">        node.left = removeMin(node.left);</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其实明显可以感受到BSTMap的存储速度要快于LinkedListMap</p>
<h1 id="基于链表的Map和基于二分搜索树的Map的时间复杂度对比"><a href="#基于链表的Map和基于二分搜索树的Map的时间复杂度对比" class="headerlink" title="基于链表的Map和基于二分搜索树的Map的时间复杂度对比"></a>基于链表的Map和基于二分搜索树的Map的时间复杂度对比</h1><table>
<thead>
<tr>
<th style="text-align:center">操作</th>
<th style="text-align:center">LinkedListMap</th>
<th style="text-align:center">BSTMap(平均)</th>
<th style="text-align:center">BSTMap最差)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">增add</td>
<td style="text-align:center">O(n)</td>
<td style="text-align:center">O(logn)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td style="text-align:center">删remove</td>
<td style="text-align:center">O(n)</td>
<td style="text-align:center">O(logn)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td style="text-align:center">改set</td>
<td style="text-align:center">O(n)</td>
<td style="text-align:center">O(logn)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td style="text-align:center">查get</td>
<td style="text-align:center">O(n)</td>
<td style="text-align:center">O(logn)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td style="text-align:center">查contains</td>
<td style="text-align:center">O(n)</td>
<td style="text-align:center">O(logn)</td>
<td style="text-align:center">O(n)</td>
</tr>
</tbody>
</table>

  </section>
  <footer class="post-footer">
    <!--
    <section class="author">
      <h4>Homxu</h4>
      <p></p>
    </section>
    -->
  </footer>
</article>

<nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2018/08/04/用户日志统计分析/">
        ← prev <!--用户日志统计分析-->
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/2018/08/01/实现集合/">
        <!--实现集合--> next →
    </a>
    
</nav>


        </main>
        <footer id="footer">
            <section id="footer-message">&copy; 2019 Homxu. All rights reserved. Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. <a href="https://github.com/guolin/crisp-hexo-theme" target="_blank">crisp</a> theme by <a href="guolin.github.io" target="_blank">Guo Lin</a>.</section>
        </footer>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','/js/ga.js','ga');
            ga('create', 'UA-141265597-1', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>


